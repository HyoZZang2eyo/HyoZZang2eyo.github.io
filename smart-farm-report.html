<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G-NAPS | ê²½ë‚¨ ë§ˆëŠ˜ ìˆ˜ê¸‰ ì•ˆì •í™” ì¸í¬ê·¸ë˜í”½</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #f8f7f4;
            color: #1f2937;
        }
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            max-width: 600px;
            height: 300px;
            max-height: 300px;
        }
        .chart-container-lg {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            max-width: 900px;
            height: 400px;
            max-height: 400px;
        }
        .kpi-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        /* Modal Style */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        .close-button {
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #bc4749;
        }
        .placeholder-box {
            background-color: #f0fdf4;
            border: 2px dashed #a7c957;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            min-height: 250px; 
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #6a994e;
            margin-bottom: 10px; /* ì—¬ë°± 15px -> 10px */
        }
    </style>
</head>
<body style="background-color: white;">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">

        <header class="text-center mb-8"> <!-- mb-12 -> mb-8 -->
            <h1 class="text-5xl font-extrabold mb-3" style="color: #6a994e;">
                ğŸ§„ G-NAPS
            </h1>
            <h2 class="text-2xl font-bold text-gray-700">ê²½ë‚¨ ë§ˆëŠ˜ ìˆ˜ê¸‰ ì•ˆì •í™” ì¸í¬ê·¸ë˜í”½</h2>
            <p class="text-lg text-gray-600 mt-2">AI ì˜ˆì¸¡ì´ ë†ê°€ ì†Œë“ì˜ ë³€ë™ì„±ì„ ê´€ë¦¬í•˜ê³  ì„ ì œì  ëŒ€ì‘ì„ ì£¼ë„í•©ë‹ˆë‹¤.</p>
        </header>

        <section class="mb-8"> <!-- mb-12 -> mb-8 -->
            <h2 class="text-3xl font-bold text-center mb-6">ë¬¸ì œ: ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì‹œì¥ ë³€ë™ì„±</h2>
            <div class="max-w-3xl mx-auto bg-white rounded-lg shadow-md p-6 text-center">
                <p class="text-lg text-gray-700">
                    ê²½ë‚¨ ë§ˆëŠ˜ì€ ê¸°í›„ì™€ ì‘í™©ì— ë”°ë¼ ìƒì‚°ëŸ‰ì´ ê¸‰ë³€í•˜ì—¬ ê°€ê²© í­ë“±ê³¼ í­ë½ì„ ë°˜ë³µí•©ë‹ˆë‹¤.
                    ë¬¸ì œê°€ ë°œìƒí•œ ë’¤ì˜ <strong style="color: #bc4749;">'ì‚¬í›„ ì•½ë°©ë¬¸'</strong>ì‹ ëŒ€ì±…ì€ ë†ê°€ ì†Œë“ ì•ˆì •í™”ì— í•œê³„ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
                    G-NAPSëŠ” ì´ ë¬¸ì œë¥¼ <strong style="color: #6a994e;">'ì„ ì œì  AI ì§„ë‹¨'</strong>ìœ¼ë¡œ í•´ê²°í•©ë‹ˆë‹¤.
                </p>
            </div>
        </section>

        <section class="mb-8"> <!-- mb-12 -> mb-8 -->
            <h2 class="text-3xl font-bold text-center mb-6">G-NAPS ì‹¤ì‹œê°„ AI ì§„ë‹¨</h2>
            <p class="text-lg text-gray-600 text-center mb-6">í˜„ì¬ ìƒì‚°ëŸ‰(580í†¤)ì„ ê¸°ì¤€ìœ¼ë¡œ AIê°€ ìˆ˜ê¸‰ ìƒíƒœë¥¼ 'ê³¼ì‰ ìš°ë ¤'ë¡œ ì§„ë‹¨í–ˆìŠµë‹ˆë‹¤.</p> <!-- mb-8 -> mb-6 -->
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4"> <!-- gap-6 -> gap-4 -->
                <div class="kpi-card md:col-span-1" style="border: 2px solid #bc4749;">
                    <h3 class="text-xl font-bold text-center mb-4">AI ìˆ˜ê¸‰ ì§„ë‹¨</h3>
                    <div class="text-center my-auto">
                        <p class="text-6xl font-extrabold" style="color: #bc4749;">âš ï¸</p>
                        <p class="text-2xl font-extrabold mt-3" style="color: #bc4749;">ê²½ê³„ (ê³¼ì‰ ìš°ë ¤)</p>
                        <p class="text-lg font-bold text-gray-700 mt-3">+9.4%</p>
                        <p class="text-sm text-gray-500">(í‰ë…„ 530í†¤ ëŒ€ë¹„ 580í†¤)</p>
                    </div>
                </div>

                <div class="kpi-card md:col-span-1">
                    <h3 class="text-lg font-bold text-center mb-4">í˜„ì¬ ìƒì‚°ëŸ‰ vs í‰ë…„ (í†¤)</h3>
                    <div class="chart-container">
                        <canvas id="productionChart"></canvas>
                    </div>
                </div>

                <div class="kpi-card md:col-span-1">
                    <h3 class="text-xl font-bold text-center mb-4">AI ì˜ˆì¸¡ ì‹ ë¢°ë„</h3>
                    <div class="chart-container">
                        <canvas id="confidenceChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section class="mb-8 bg-white rounded-lg shadow-md p-6"> <!-- mb-12 -> mb-8 -->
            <h2 class="text-3xl font-bold text-center mb-2">AI ê°€ê²© ì˜ˆì¸¡: 3ê°œì›” í›„ í•˜ë½ ì „ë§</h2>
            <p class="text-lg text-gray-600 text-center mb-4">'ê³¼ì‰ ìš°ë ¤' ìƒíƒœê°€ ì§€ì†ë  ê²½ìš°, 8ì›”ë¶€í„° ë§ˆëŠ˜ ë„ë§¤ê°€ê²©ì´ í‰ë…„ ëŒ€ë¹„ í•˜ë½í•  ê²ƒìœ¼ë¡œ ì˜ˆì¸¡ë©ë‹ˆë‹¤.</p> <!-- mb-6 -> mb-4 -->
            <div class="chart-container-lg">
                <canvas id="priceChart"></canvas>
            </div>
        </section>

        <section class="mb-8"> <!-- mb-12 -> mb-8 -->
            <h2 class="text-3xl font-bold text-center mb-6">AI ìë™ ëŒ€ì‘ ë§¤ë‰´ì–¼ (Action Plan)</h2>
            <p class="text-lg text-gray-600 text-center mb-6">'ê³¼ì‰ ìš°ë ¤' ì§„ë‹¨ì— ë”°ë¼, ì‹œìŠ¤í…œì€ ì¦‰ê°ì ì¸ ì‹œì¥ ì•ˆì •í™” ì¡°ì¹˜ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.</p> <!-- mb-8 -> mb-6 -->
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> <!-- gap-6 -> gap-4 -->
                <div class="kpi-card border-l-8" style="border-color: #bc4749;">
                    <h3 class="text-2xl font-bold mb-3 flex items-center">
                        <span class="text-3xl mr-3">ğŸš›</span> 1ë‹¨ê³„: ì‹œì¥ ê²©ë¦¬ (ê¸´ê¸‰ ìˆ˜ë§¤)
                    </h3>
                    <p class="text-lg text-gray-700">
                        ê°€ê²© í­ë½ ë°©ì§€ë¥¼ ìœ„í•´ ê³¼ì‰ ë¬¼ëŸ‰ì˜ ì¼ë¶€(ìƒì‚°ëŸ‰ì˜ 10%ì¸ <strong class="font-bold">58í†¤</strong>)ë¥¼ ì¦‰ì‹œ ìˆ˜ë§¤í•˜ì—¬ ì‹œì¥ ê³µê¸‰ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.
                    </p>
                </div>
                <div class="kpi-card border-l-8" style="border-color: #bc4749;">
                    <h3 class="text-2xl font-bold mb-3 flex items-center">
                        <span class="text-3xl mr-3">ğŸ”</span> 2ë‹¨ê³„: ê¸°ì—… ìƒìƒ ë§¤ì¹­
                    </h3>
                    <p class="text-lg text-gray-700">
                        ëŒ€ëŸ‰ ì†Œë¹„ ì´‰ì§„ì„ ìœ„í•´ <strong class="font-bold">ë§¥ë„ë‚ ë“œ, ë¡¯ë°ë¦¬ì•„</strong> ë“± ëŒ€í˜• í”„ëœì°¨ì´ì¦ˆ ë° ë§ˆíŠ¸ì— í”„ë¡œëª¨ì…˜ ì œíœ´ë¥¼ ë°œì†¡í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <!-- Gemini API ê¸°ë°˜ AI ê¸°ëŠ¥ ì¶”ê°€ -->
            <div class="mt-6 pt-4 border-t border-gray-300 grid grid-cols-1 md:grid-cols-2 gap-4"> <!-- mt-8 -> mt-6 -->
                <button id="guideButton" class="bg-green-700 hover:bg-green-800 text-white font-bold py-3 px-4 rounded-lg transition duration-150 shadow-md col-span-1 md:col-span-2">
                    ğŸ‘¨â€ğŸŒ¾ ë§ì¶¤í˜• ì˜ë† ê°€ì´ë“œ ì´ˆì•ˆ ìš”ì²­ (LLM ì§€ì›)
                </button>
            </div>
        </section>

        <!-- PDF ìº¡ì²˜ ë‚´ìš©ì„ êµ¬ì¡°ì ìœ¼ë¡œ ëŒ€ì²´í•˜ëŠ” ì„¹ì…˜ (ê³ ê°ë‹˜ ìš”ì²­ ë°˜ì˜) -->
        <section class="mb-8"> <!-- mb-12 -> mb-8 -->
            <h2 class="text-3xl font-bold text-center mb-6">ì‹¤ì œ ìš´ì˜ ì‹œë‚˜ë¦¬ì˜¤ ë° ì‹¤í–‰ ê²°ê³¼</h2>
            <p class="text-lg text-gray-600 text-center mb-4"> <!-- mb-8 -> mb-4 -->
                G-NAPS ëŒ€ì‹œë³´ë“œ(<code class="bg-gray-200 p-1 rounded">app.py</code>)ì˜ í•µì‹¬ ê°€ì¹˜ëŠ” ì„ ì œì  ì§„ë‹¨ê³¼ ìë™í™”ëœ ëŒ€ì‘ì— ìˆìŠµë‹ˆë‹¤. 
                ë‹¤ìŒì€ ì‹¤ì œ ëŒ€ì‹œë³´ë“œ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì‹œë‚˜ë¦¬ì˜¤ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ ìš”ì•½í•œ ë‚´ìš©ì…ë‹ˆë‹¤.
            </p>

            <div class="space-y-4"> <!-- space-y-8 -> space-y-4 -->
                <!-- ì‹œë‚˜ë¦¬ì˜¤ 1: ì´ˆê³¼ ê³µê¸‰ ì‹¬ê° (êµ¬í˜„1.pdf ê¸°ë°˜) -->
                <div class="kpi-card border-t-4 border-l-4 p-5" style="border-color: #bc4749;">
                    <div class="placeholder-box">
                        <img 
                            src="g-naps1.jpeg" 
                            alt="G-NAPS ëŒ€ì‹œë³´ë“œ ì´ˆê³¼ê³µê¸‰ ì‹œë‚˜ë¦¬ì˜¤"
                            onerror="this.onerror=null; this.src='https://placehold.co/800x250/a7c957/ffffff?text=Screenshot+1+:+Red+Light+(ì´ˆê³¼ê³µê¸‰)'; display: block;" 
                            style="width: 100%; height: 100%; object-fit: contain; display: block;"
                        />
                    </div>
                    <h3 class="text-xl font-extrabold mb-3" style="color: #bc4749;">1. ì´ˆê³¼ ê³µê¸‰ ì‹¬ê° (Red Light)</h3>
                    <p class="text-sm font-bold text-gray-700">ì§„ë‹¨ ì¼ì: 2025-08-01</p>
                    <hr class="my-3">
                    <ul class="text-base space-y-1 text-gray-700"> <!-- space-y-2 -> space-y-1 -->
                        <li><strong class="font-extrabold">ì¦ê°ë¥ : +20.4%</strong> (ì‹¬ê° ê¸°ì¤€ ì´ˆê³¼)</li>
                        <li><strong class="font-extrabold">ì˜ˆì¸¡:</strong> ê°€ê²© í­ë½ ì „ë§ ë° í•˜ë½ ì¶”ì´ í™•ì •.</li>
                        <li><strong class="font-extrabold">ì¡°ì¹˜:</strong> ê¸´ê¸‰ ìˆ˜ë§¤ ëª…ë ¹ (64í†¤) ë° ê¸°ì—… ì œíœ´ ì œì•ˆì„œ ìë™ ë°œì†¡.</li>
                    </ul>
                    <p class="mt-3 text-sm font-bold bg-red-50 p-2 rounded" style="color: #bc4749;"> <!-- mt-4 -> mt-3 -->
                        â¡ï¸ AI ì˜ˆì¸¡ì— ë”°ë¥¸ ì¦‰ê°ì ì¸ ì‹œì¥ ì•ˆì •í™” ì¡°ì¹˜ ì‹¤í–‰ ì™„ë£Œ.
                    </p>
                </div>

                <!-- ì‹œë‚˜ë¦¬ì˜¤ 2: ê³µê¸‰ ë¶€ì¡± ì‹œë®¬ë ˆì´ì…˜ (êµ¬í˜„2.pdf ê¸°ë°˜) -->
                <div class="kpi-card border-t-4 border-l-4 p-5" style="border-color: #f59e0b;">
                    <div class="placeholder-box">
                        <img 
                            src="g-naps2.jpeg" 
                            alt="G-NAPS What-If ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜"
                            onerror="this.onerror=null; this.src='https://placehold.co/800x250/a7c957/ffffff?text=Screenshot+2+:+What-If+Analysis+(ê³µê¸‰ë¶€ì¡±)'; display: block;" 
                            style="width: 100%; height: 100%; object-fit: contain; display: block;"
                        />
                    </div>
                    <h3 class="text-xl font-extrabold mb-3" style="color: #f59e0b;">2. ê³µê¸‰ ë¶€ì¡± ê²½ê³  (What-If ë¶„ì„)</h3>
                    <p class="text-sm font-bold text-gray-700">ë¶„ì„ ì‹œì : 2025-07-28</p>
                    <hr class="my-3">
                    <ul class="text-base space-y-1 text-gray-700"> <!-- space-y-2 -> space-y-1 -->
                        <li><strong class="font-extrabold">ì‹œë®¬ë ˆì´ì…˜:</strong> ì˜ˆìƒ ìƒì‚°ëŸ‰ 450í†¤ ê°€ì •.</li>
                        <li><strong class="font-extrabold">ì¦ê°ë¥ : -15.1%</strong> (ì‹¬ê° ê¸°ì¤€ ë„ë‹¬)</li>
                        <li><strong class="font-extrabold">ì˜ˆì¸¡:</strong> ê°€ê²© ê¸‰ë“±(í­ë“±) ì „ë§.</li>
                        <li><strong class="font-extrabold">ì¡°ì¹˜:</strong> ë¹„ì¶• ë¬¼ëŸ‰ ê¸´ê¸‰ ë°©ì¶œ ëª…ë ¹ ë°œë™ í•„ìš”.</li>
                    </ul>
                    <p class="mt-3 text-sm font-bold bg-yellow-50 p-2 rounded" style="color: #f59e0b;"> <!-- mt-4 -> mt-3 -->
                        â¡ï¸ ì‚¬ìš©ì ì¡°ì‘ì— ë”°ë¥¸ ì„ ì œì  ìœ„í—˜ ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ë¹„ ì™„ë£Œ.
                    </p>
                </div>

                <!-- ì‹œë‚˜ë¦¬ì˜¤ 3: ì‹œìŠ¤í…œ ì¡°ì¹˜ ë¡œê·¸ (êµ¬í˜„3.pdf ê¸°ë°˜) -->
                <div class="kpi-card border-t-4 border-l-4 p-5" style="border-color: #6a994e;">
                    <div class="placeholder-box">
                        <img 
                            src="g-naps3.jpeg" 
                            alt="G-NAPS ì‹œìŠ¤í…œ ì¡°ì¹˜ ë¡œê·¸"
                            onerror="this.onerror=null; this.src='https://placehold.co/800x250/a7c957/ffffff?text=Screenshot+3+:+Audit+Log+(ìš´ì˜+ê¸°ë¡)'; display: block;" 
                            style="width: 100%; height: 100%; object-fit: contain; display: block;"
                        />
                    </div>
                    <h3 class="text-xl font-extrabold mb-3" style="color: #6a994e;">3. ì‹œìŠ¤í…œ ìš´ì˜ ê¸°ë¡ (Audit Log)</h3>
                    <p class="text-sm font-bold text-gray-700">ì‹œê°„ ë²”ìœ„: 2025-07-24 ~ 2025-07-28</p>
                    <hr class="my-3">
                    <ul class="text-base space-y-1 text-gray-700"> <!-- space-y-2 -> space-y-1 -->
                        <li><strong class="font-extrabold">ê¸´ê¸‰ ì¡°ì¹˜:</strong> 3ê±´ (ìˆ˜ë§¤, ì œíœ´, ë°©ì¶œ)</li>
                        <li><strong class="font-extrabold">ì •ë³´ ë³´ê³ :</strong> 2ê±´ (ì¬ê³  ê´€ë¦¬íŒ€/ë†ì •êµ­)</li>
                        <li><strong class="font-extrabold">ì‹œìŠ¤í…œ ì ê²€:</strong> 1ê±´ (DB ë¬´ê²°ì„± ì²´í¬)</li>
                        <li><strong class="font-extrabold">ìƒíƒœ:</strong> ëª¨ë“  ì¡°ì¹˜ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ ì™„ë£Œ.</li>
                    </ul>
                    <p class="mt-3 text-sm font-bold bg-green-50 p-2 rounded" style="color: #6a994e;"> <!-- mt-4 -> mt-3 -->
                        â¡ï¸ íˆ¬ëª…í•œ ê¸°ë¡ì„ í†µí•œ ìš´ì˜ ì•ˆì •ì„± í™•ë³´.
                    </p>
                </div>
            </div>
        </section>


        <section class="mb-8"> <!-- mb-12 -> mb-8 -->
            <h2 class="text-3xl font-bold text-center mb-6">G-NAPSëŠ” ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4"> <!-- gap-8 -> gap-4 -->
                
                <div class="kpi-card">
                    <h3 class="text-2xl font-bold text-center mb-6">4ë‹¨ê³„ ë°ì´í„° íŒŒì´í”„ë¼ì¸</h3>
                    <div class="flex flex-col space-y-4">
                        <div class="p-4 rounded-lg text-center font-bold text-lg" style="background-color: #e5e5e5; color: #1f2937;">
                            1. ë°ì´í„° ìˆ˜ì§‘ (ê³µê³µ DB ì—°ë™)
                        </div>
                        <div class="text-center text-3xl font-bold" style="color: #6a994e;">â–¼</div>
                        <div class="p-4 rounded-lg text-center font-bold text-lg" style="background-color: #a7c957; color: #1f2937;">
                            2. ë°ì´í„° ì²˜ë¦¬ (ìƒì‚°ëŸ‰/ì¦ê°ë¥  ê³„ì‚°)
                        </div>
                        <div class="text-center text-3xl font-bold" style="color: #6a994e;">â–¼</div>
                        <div class="p-4 rounded-lg text-center font-bold text-lg" style="background-color: #bc4749; color: white;">
                            3. AI ì§„ë‹¨ (ìˆ˜ê¸‰ ìƒíƒœ 5ë‹¨ê³„ ë¶„ë¥˜)
                        </div>
                        <div class="text-center text-3xl font-bold" style="color: #6a994e;">â–¼</div>
                        <div class="p-4 rounded-lg text-center font-bold text-lg" style="background-color: #6a994e; color: white;">
                            4. ëŒ€ì‘ ë° ì˜ˆì¸¡ (Action Plan ì‹¤í–‰)
                        </div>
                    </div>
                </div>

                <div class="kpi-card">
                    <h3 class="text-2xl font-bold text-center mb-3">5ë‹¨ê³„ AI ì§„ë‹¨ ë¡œì§</h3> <!-- mb-6 -> mb-3 -->
                    <div class="overflow-x-auto">
                        <table class="min-w-full text-left text-sm md:text-base">
                            <thead class="font-bold border-b-2" style="border-color: #6a994e;">
                                <tr>
                                    <th class="p-2">ì¦ê°ë¥  (Rate)</th>
                                    <th class="p-2">ì§„ë‹¨ ìƒíƒœ</th>
                                    <th class="p-2">ì¡°ì¹˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b" style="background-color: #fce7e7; color: #9c2a2a;">
                                    <td class="p-2 font-bold">&gt; +15%</td>
                                    <td class="p-2 font-bold">ğŸš¨ ì‹¬ê° (ì´ˆê³¼ê³µê¸‰)</td>
                                    <td class="p-2 text-xs">ê¸´ê¸‰ ìˆ˜ë§¤</td>
                                </tr>
                                <tr class="border-b" style="background-color: #fef3e7; color: #9a4d0f;">
                                    <td class="p-2 font-bold">+5% ~ +15%</td>
                                    <td class="p-2 font-bold">âš ï¸ ê²½ê³„ (ê³¼ì‰ ìš°ë ¤)</td>
                                    <td class="p-2 text-xs">ìˆ˜ë§¤ ì¤€ë¹„</td>
                                </tr>
                                <tr class="border-b" style="background-color: #f0fdf4; color: #155e2f;">
                                    <td class="p-2 font-bold">-5% ~ +5%</td>
                                    <td class="p-2 font-bold">âœ… ì•ˆì •</td>
                                    <td class="p-2 text-xs">ëª¨ë‹ˆí„°ë§</td>
                                </tr>
                                <tr class="border-b" style="background-color: #fefbec; color: #926c0b;">
                                    <td class="p-2 font-bold">-15% ~ -5%</td>
                                    <td class="p-2 font-bold">âš ï¸ ê²½ê³„ (ë¶€ì¡± ìš°ë ¤)</td>
                                    <td class="p-2 text-xs">ë¹„ì¶•ëŸ‰ ê²€í† </td>
                                </tr>
                                <tr style="background-color: #fef3e7; color: #9a4d0f;">
                                    <td class="p-2 font-bold">&lt; -15%</td>
                                    <td class="p-2 font-bold">ğŸ”¥ ì‹¬ê° (ê³µê¸‰ë¶€ì¡±)</td>
                                    <td class="p-2 text-xs">ë¹„ì¶•ëŸ‰ ë°©ì¶œ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- í‘¸í„° -->
        <footer class="text-center mt-8 pt-6 border-t" style="border-color: #a7c957;"> <!-- mt-12 -> mt-8 -->
            <p class="text-sm text-gray-600">ë³¸ ì¸í¬ê·¸ë˜í”½ì€ G-NAPS (ê²½ë‚¨ ë§ˆëŠ˜ ìˆ˜ê¸‰ ì•ˆì •í™” ì‹œìŠ¤í…œ) í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        </footer>

    </div>

    <!-- AI Modal Structure -->
    <div id="aiModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="document.getElementById('aiModal').style.display='none';">&times;</span>
            <h2 id="modalTitle" class="text-2xl font-extrabold mb-4" style="color: #6a994e;"></h2>
            <div id="modalBody" class="text-gray-700 text-base leading-relaxed">
                <p id="loadingIndicator" class="text-center py-8 text-xl font-bold text-gray-500 hidden">
                    AIê°€ ë³´ê³ ì„œë¥¼ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤... ğŸ“
                </p>
                <div id="geminiOutput"></div>
            </div>
            <div class="mt-6 border-t pt-3 text-sm text-gray-500">
                <p>ğŸ’¡ ì´ ê¸°ëŠ¥ì€ Gemini AIë¥¼ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±ëœ ë‚´ìš©ì…ë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>

    <script>
        const API_KEY = ""; // Gemini API Key
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`;
        
        // --- Gemini API Call Logic ---
        async function callGeminiApi(systemPrompt, userQuery, title) {
            const modal = document.getElementById('aiModal');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const geminiOutput = document.getElementById('geminiOutput');
            
            document.getElementById('modalTitle').innerText = title;
            geminiOutput.innerHTML = '';
            
            modal.style.display = 'flex';
            loadingIndicator.classList.remove('hidden');

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            let response = null;
            let attempts = 0;
            const maxAttempts = 3;
            let delay = 1000;

            while (attempts < maxAttempts) {
                try {
                    response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        break;
                    } else if (response.status === 429) {
                        attempts++;
                        if (attempts < maxAttempts) {
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2; // Exponential backoff
                            continue;
                        }
                    }
                    throw new Error(`API Error: ${response.statusText}`);
                } catch (error) {
                    attempts++;
                    if (attempts >= maxAttempts) {
                        geminiOutput.innerHTML = `<p class="text-red-600 font-bold">ì˜¤ë¥˜ ë°œìƒ: ${error.message}. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.</p>`;
                        loadingIndicator.classList.add('hidden');
                        return;
                    }
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2; // Exponential backoff
                }
            }
            
            loadingIndicator.classList.add('hidden');
            
            if (response && response.ok) {
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "ì‘ë‹µì„ ìƒì„±í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
                
                // Markdown to HTML conversion (simple)
                const formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                                          .replace(/\n/g, '<br>');
                geminiOutput.innerHTML = formattedText;
            } else {
                geminiOutput.innerHTML = `<p class="text-red-600 font-bold">ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.</p>`;
            }
        }
        
        // --- Event Handlers ---

        document.getElementById('guideButton').addEventListener('click', () => {
            const system = "ë‹¹ì‹ ì€ ë†ê°€ë¥¼ ìœ„í•œ ì˜ë† ê°€ì´ë“œë¼ì¸ ì‘ì„± ì „ë¬¸ê°€ì…ë‹ˆë‹¤. í˜„ì¬ì˜ 'ê²½ê³„(ê³¼ì‰ ìš°ë ¤)' ì§„ë‹¨ ìƒíƒœë¥¼ ë°”íƒ•ìœ¼ë¡œ, ë†ê°€ ì†Œë“ ì•ˆì •ì„ ìœ„í•œ íŒŒì¢… ë° ì¶œí•˜ ì¡°ì ˆ ê°€ì´ë“œë¼ì¸ì„ êµ¬ì²´ì ì¸ ë‹¨ê³„ì™€ í•¨ê»˜ 3ê°€ì§€ í•­ëª©ìœ¼ë¡œ ìš”ì•½í•˜ì—¬ ì‘ì„±í•´ ì£¼ì„¸ìš”.";
            const query = "í˜„ì¬ì˜ ë§ˆëŠ˜ ìˆ˜ê¸‰ ì§„ë‹¨ ìƒíƒœëŠ” 'ê²½ê³„(ê³¼ì‰ ìš°ë ¤)'ì´ë©°, ìƒì‚°ëŸ‰ì´ 9.4% ì´ˆê³¼í•œ ìƒíƒœì…ë‹ˆë‹¤. ê°€ê²© ë°©ì–´ë¥¼ ìœ„í•œ ë†ê°€ í–‰ë™ ì§€ì¹¨(íŒŒì¢…, ì¶œí•˜ ì¡°ì ˆ) ì´ˆì•ˆì„ ì‘ì„±í•´ì£¼ì„¸ìš”.";
            callGeminiApi(system, query, "ë§ì¶¤í˜• ì˜ë† ê°€ì´ë“œ ì´ˆì•ˆ (LLM ì§€ì›)");
        });


        // --- Chart Initialization (Existing Logic) ---
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };
        
        const chartPluginsConfig = {
            legend: {
                position: 'bottom',
                labels: {
                    font: {
                        family: "'Inter', 'Noto Sans KR', sans-serif",
                        size: 12,
                    }
                }
            },
            tooltip: {
                callbacks: {
                    title: tooltipTitleCallback
                },
                titleFont: {
                    family: "'Inter', 'Noto Sans KR', sans-serif",
                    size: 12,
                },
                bodyFont: {
                    family: "'Inter', 'Noto Sans KR', sans-serif",
                    size: 11,
                }
            }
        };

        const productionCtx = document.getElementById('productionChart').getContext('2d');
        new Chart(productionCtx, {
            type: 'doughnut',
            data: {
                labels: [
                    ['í˜„ì¬ ìƒì‚°ëŸ‰', '(580í†¤)'],
                    ['í‰ë…„ ìƒì‚°ëŸ‰', '(530í†¤)']
                ],
                datasets: [{
                    data: [580, 530],
                    backgroundColor: ['#a7c957', '#6a994e'],
                    borderColor: ['#a7c957', '#6a994e'],
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: chartPluginsConfig,
                cutout: '60%'
            }
        });

        const confidenceCtx = document.getElementById('confidenceChart').getContext('2d');
        new Chart(confidenceCtx, {
            type: 'doughnut',
            data: {
                labels: ['AI ì‹ ë¢°ë„ (88%)', ''],
                datasets: [{
                    data: [88, 12],
                    backgroundColor: ['#6a994e', '#e5e5e5'],
                    borderColor: ['#6a994e', '#e5e5e5'],
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: chartPluginsConfig,
                cutout: '60%',
                plugins: {
                    legend: {
                         display: false
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                }
            }
        });

        const priceCtx = document.getElementById('priceChart').getContext('2d');
        new Chart(priceCtx, {
            type: 'line',
            data: {
                labels: ['6ì›”', '7ì›”(í˜„ì¬)', '8ì›”(ì˜ˆ)', '9ì›”(ì˜ˆ)', '10ì›”(ì˜ˆ)'],
                datasets: [
                    {
                        label: 'í‰ë…„ ê°€ê²© (ì›/kg)',
                        data: [3500, 3400, 3300, 3400, 3500],
                        borderColor: '#6a994e',
                        backgroundColor: '#6a994e20',
                        borderWidth: 3,
                        pointRadius: 5,
                        pointBackgroundColor: '#6a994e',
                        tension: 0.1,
                        borderDash: [5, 5]
                    },
                    {
                        label: 'AI ì˜ˆì¸¡ ê°€ê²© (ì›/kg)',
                        data: [3500, 3400, 3286, 3402, 3426],
                        borderColor: '#bc4749',
                        backgroundColor: '#bc474920',
                        borderWidth: 4,
                        pointRadius: 5,
                        pointBackgroundColor: '#bc4749',
                        tension: 0.1,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: false,
                        ticks: {
                            callback: function(value) { return value.toLocaleString() + 'ì›'; }
                        }
                    }
                },
                plugins: chartPluginsConfig
            }
        });
    </script>
</body>
</html>