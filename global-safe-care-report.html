<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Portfolio: Global Safe Care</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8f9fa; }
        .kakao-yellow { background-color: #FEE500; color: #191919; }
        .card-shadow { box-shadow: 0 4px 20px rgba(0,0,0,0.05); }

        /* UI ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        .mobile-ui {
            width: 100%;
            height: auto;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); /* ê·¸ë¦¼ì ê°•í™” */
            border: 1px solid #e5e7eb;
            transition: transform 0.3s ease-in-out;
        }
        .mobile-ui:hover {
            transform: translateY(-5px); /* í˜¸ë²„ íš¨ê³¼ ì¶”ê°€ */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Lucide Icons ëŒ€ì²´ ì»´í¬ë„ŒíŠ¸
        const Icon = ({ name, size = 24, className = "" }) => {
            const icons = {
                code: <path d="M16 18l6-6-6-6 M8 6l-6 6 6 6" />,
                box: <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z M3.27 6.96L12 12.01l8.73-5.05 M12 22.08V12" />,
                checkCircle: <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14 M22 4L12 14.01l-3-3" />,
                alertTriangle: <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z M12 9v4 M12 17h.01" />,
                cpu: <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z M12 12v.01" />, 
                arrowRight: <path d="M5 12h14 M12 5l7 7-7 7" />,
                search: <path d="M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16z M21 21l-4.35-4.35" />,
                camera: <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z M12 14a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" />,
                loader: <path d="M12 2v4 M12 18v4 M4.93 4.93l2.83 2.83 M16.24 16.24l2.83 2.83 M2 12h4 M18 12h4 M4.93 19.07l2.83-2.83 M16.24 7.76l2.83-2.83"/>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || <circle cx="12" cy="12" r="10" />}
                </svg>
            );
        };

        // Base64 Placeholder for a sample damaged image (e.g., K-POP goods box damage)
        // In a real application, this would be the actual image uploaded by the user.
        const DAMAGED_GOODS_BASE64 = "iVBORw0KGg... (placeholder for damaged image)";

        // LLM Logic (Gemini API Call)
        const analyzeImageForInsurance = async (setLoading, setResult, setError) => {
            setLoading(true);
            setResult(null);
            setError(null);
            
            const systemPrompt = `Act as a world-class insurance claims adjuster specializing in international e-commerce. You are analyzing a claim for a damaged K-POP merchandise set valued at 65,000 KRW. Your task is to analyze the provided image for evidence of damage and generate a structured JSON summary.
            
            **Insurance Policy Guidelines:**
            1.  Minor Damage (Cosmetic scratches, small dents): 50% payout (32,500 KRW)
            2.  Moderate Damage (Severe crushing, tear, contents potentially affected): 80% payout (52,000 KRW)
            3.  Total Loss (Item unusable, irreversible damage): 100% payout (65,000 KRW)
            4.  No Visible Damage / Pre-existing: 0% payout (Claim Denied)
            
            Analyze the damage and provide the output in JSON format, without any surrounding text or markdown.`;
            
            // This is the prompt the model sees along with the image
            const userQuery = "Analyze this image of the K-POP goods packaging damage and determine the appropriate claim payout based on the policy guidelines.";

            // API Payload
            const payload = {
                contents: [
                    {
                        role: "user",
                        parts: [
                            { text: userQuery },
                            {
                                inlineData: {
                                    mimeType: "image/png",
                                    data: DAMAGED_GOODS_BASE64 // Placeholder image data
                                }
                            }
                        ]
                    }
                ],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            "damage_level": { "type": "STRING", "description": "Minor, Moderate, Total Loss, or Denied." },
                            "payout_percentage": { "type": "STRING", "description": "The determined payout percentage (e.g., 50%, 80%)." },
                            "estimated_payout_krw": { "type": "NUMBER", "description": "The calculated payout amount in KRW." },
                            "risk_assessment_summary": { "type": "STRING", "description": "A concise summary of the risk finding for the claims department." }
                        },
                        "required": ["damage_level", "payout_percentage", "estimated_payout_krw", "risk_assessment_summary"]
                    }
                }
            };

            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                const jsonText = result.candidates?.[0]?.content?.parts?.[0]?.text;
                
                if (jsonText) {
                    const parsedJson = JSON.parse(jsonText);
                    setResult(parsedJson);
                } else {
                    throw new Error("API returned an empty or invalid response.");
                }

            } catch (err) {
                console.error("Gemini API Error:", err);
                setError(`ë¶„ì„ ì‹¤íŒ¨: ${err.message}. (API í‚¤ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ)`);
            } finally {
                setLoading(false);
            }
        };


        function Portfolio() {
            const [isLoading, setLoading] = useState(false);
            const [result, setResult] = useState(null);
            const [error, setError] = useState(null);

            // ì´ë¯¸ì§€ íŒŒì¼ëª…ì„ ì˜ë¬¸ìœ¼ë¡œ ë³€ê²½í–ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.
            const uiImages = [
                { src: "./ui-home.png", caption: "ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ í™ˆ: ë°°ì†¡ í˜„í™©" },
                { src: "./ui-register.png", caption: "í•´ì™¸ ë°°ì†¡ ì ‘ìˆ˜: ì„ë² ë””ë“œ ë³´í—˜ ê°€ì…" },
                { src: "./ui-compensation.png", caption: "ì•ˆì‹¬ ë³´ìƒ ì„¼í„°: íŒŒì† ì‚¬ì§„ ì—…ë¡œë“œ" },
                { src: "./ui-payback.png", caption: "ì •ì‚°/í™˜ê¸‰ ì™„ë£Œ: ë¬´ì‚¬ê³  Payback íŒì—…" },
            ];
            
            return (
                <div className="max-w-4xl mx-auto my-10 bg-white shadow-2xl rounded-3xl overflow-hidden">
                    
                    {/* 1. Header Section */}
                    <header className="kakao-yellow p-12 text-center relative overflow-hidden">
                        <div className="absolute top-0 right-0 opacity-10 transform translate-x-10 -translate-y-10">
                            <Icon name="box" size={200} />
                        </div>
                        <span className="bg-black text-white px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-4 inline-block">Project Portfolio</span>
                        <h1 className="text-4xl md:text-5xl font-extrabold text-gray-900 mb-2 tracking-tight">Global Safe Care</h1>
                        <p className="text-xl font-medium text-gray-800 opacity-80">K-ì…€ëŸ¬ë¥¼ ìœ„í•œ ê¸€ë¡œë²Œ ì•ˆì‹¬ ë°˜í’ˆ/ë°°ì†¡ ë³´í—˜ í”Œë«í¼</p>
                        <a href="index.html" className="absolute top-6 left-6 text-gray-800 hover:text-gray-600 transition flex items-center text-sm font-medium">
                            <Icon name="arrowRight" size={16} className="transform rotate-180 mr-1"/> ë©”ì¸ í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ëŒì•„ê°€ê¸°
                        </a>
                    </header>

                    <div className="p-8 md:p-12 space-y-16">

                        {/* 2. Overview & Problem Solving */}
                        <section>
                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <span className="w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center mr-3"><Icon name="search" size={18}/></span>
                                ê¸°íš ë°°ê²½ ë° ë¬¸ì œ í•´ê²° (Problem & Solution)
                            </h2>
                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="bg-red-50 p-6 rounded-2xl border border-red-100">
                                    <h3 className="font-bold text-red-600 mb-3 flex items-center"><Icon name="alertTriangle" size={20} className="mr-2"/> ë¬¸ì œì  (Pain Point)</h3>
                                    <ul className="space-y-3 text-gray-700 text-sm">
                                        <li className="flex items-start">
                                            <span className="mr-2 text-red-400">â€¢</span>
                                            í•´ì™¸ ì—­ì§êµ¬ ì‹œ, ë°˜í’ˆ ë°°ì†¡ë¹„ê°€ ë¬¼ê±´ê°’ë³´ë‹¤ ë¹„ì‹¼ 'ë°°ë³´ë‹¤ ë°°ê¼½ì´ ë” í°' ìƒí™© ë°œìƒ
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2 text-red-400">â€¢</span>
                                            ê¸°ì¡´ ë¬´ì—­ ë³´í—˜ì˜ ë³µì¡í•œ ê°€ì… ì ˆì°¨ì™€ ê¸´ ì‹¬ì‚¬ ê¸°ê°„
                                        </li>
                                    </ul>
                                </div>
                                <div className="bg-blue-50 p-6 rounded-2xl border border-blue-100">
                                    <h3 className="font-bold text-blue-600 mb-3 flex items-center"><Icon name="checkCircle" size={20} className="mr-2"/> í•´ê²°ì±… (Solution)</h3>
                                    <ul className="space-y-3 text-gray-700 text-sm">
                                        <li className="flex items-start">
                                            <span className="mr-2 text-blue-500">âœ“</span>
                                            <strong>ì„ë² ë””ë“œ ë³´í—˜:</strong> ë°°ì†¡ ì ‘ìˆ˜ í™”ë©´ì—ì„œ ì²´í¬ë°•ìŠ¤ í•˜ë‚˜ë¡œ ì¦‰ì‹œ ê°€ì…
                                        </li>
                                        <li className="flex items-start">
                                            <span className="mr-2 text-blue-500">âœ“</span>
                                            <strong>AI ì‹¬ì‚¬:</strong> íŒŒì† ì‚¬ì§„ ì—…ë¡œë“œ ì‹œ ì±—ë´‡ì´ ì¦‰ì‹œ ë¶„ì„ ë° ë³´ìƒ
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </section>

                        {/* 3. Logic Architecture (Algorithm) */}
                        <section>
                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <span className="w-8 h-8 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center mr-3"><Icon name="cpu" size={18}/></span>
                                í•µì‹¬ ë¡œì§ ì„¤ê³„ (Algorithm Flow)
                            </h2>
                            <p className="text-gray-500 text-sm mb-6">â€» Python/C ì½”ë“œë¡œ ê²€ì¦í•œ ë³´í—˜ë£Œ ì‚°ì • ë° í™˜ê¸‰ í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤.</p>
                            
                            <div className="bg-gray-50 p-6 rounded-2xl border border-gray-200 relative">
                                {/* Flowchart Visualization Placeholder */}
                                <div className="flex flex-col items-center space-y-4">
                                    <div className="bg-white px-6 py-3 rounded-xl shadow-sm border border-gray-200 font-bold text-gray-800 text-sm">ë°°ì†¡ ì •ë³´ ì…ë ¥ (ê°€ê²©/ë¬´ê²Œ)</div>
                                    <Icon name="arrowRight" className="transform rotate-90 text-gray-400" size={20} />
                                    <div className="bg-purple-50 px-8 py-4 rounded-xl border-2 border-purple-200 text-center relative">
                                        <p className="text-xs text-purple-600 font-bold mb-1">ë³´í—˜ë£Œ ì‚°ì • ë¡œì§</p>
                                        <p className="font-bold text-gray-800 text-sm">ë¬¼í’ˆ ê°€ì•¡ 5ë§Œì› ì´ìƒì¸ê°€?</p>
                                    </div>
                                    <div className="grid grid-cols-2 gap-12 w-full max-w-md relative">
                                        <div className="text-center">
                                            <div className="h-6 border-l-2 border-dashed border-gray-300 mx-auto"></div>
                                            <div className="bg-white p-3 rounded-lg border border-gray-200 text-sm">
                                                <span className="block text-xs text-green-500 font-bold">YES</span>
                                                ë³´í—˜ë£Œ 1,000ì›
                                            </div>
                                        </div>
                                        <div className="text-center">
                                            <div className="h-6 border-l-2 border-dashed border-gray-300 mx-auto"></div>
                                            <div className="bg-white p-3 rounded-lg border border-gray-200 text-sm">
                                                <span className="block text-xs text-red-500 font-bold">NO</span>
                                                ë³´í—˜ë£Œ 500ì›
                                            </div>
                                        </div>
                                    </div>
                                    <div className="h-4"></div>
                                    <div className="w-full max-w-lg bg-white p-4 rounded-xl border border-blue-100 flex items-center justify-between shadow-sm">
                                        <div className="text-left">
                                            <p className="font-bold text-gray-800 text-sm">ë°°ì†¡ ì™„ë£Œ ìƒíƒœ ê°ì§€</p>
                                            <p className="text-xs text-gray-500">status == 'DELIVERED'</p>
                                        </div>
                                        <Icon name="arrowRight" className="text-blue-500" size={20} />
                                        <div className="text-right">
                                            <p className="font-bold text-blue-600 text-sm">í¬ì¸íŠ¸ 10% í™˜ê¸‰ (Payback)</p>
                                            <p className="text-xs text-gray-500">ë¬´ì‚¬ê³  ì¸ì„¼í‹°ë¸Œ</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* 4. Gemini AI Risk Assessment (NEW FEATURE) */}
                        <section>
                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <span className="w-8 h-8 bg-pink-100 text-pink-600 rounded-lg flex items-center justify-center mr-3"><Icon name="camera" size={18}/></span>
                                Gemini AI Risk Assessment (ì‹¤ì œ ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜)
                            </h2>
                            <p className="text-gray-600 text-sm mb-4">
                                Gemini ëª¨ë¸ì„ í™œìš©í•˜ì—¬ íŒŒì† ì‚¬ì§„ì„ ë¶„ì„í•˜ê³ , ë‚´ë¶€ ì•½ê´€ì— ë”°ë¥¸ ì‹¬ì‚¬ ê²°ê³¼ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë„ì¶œí•©ë‹ˆë‹¤.
                            </p>
                            
                            <div className="bg-white p-6 rounded-2xl border border-gray-200 shadow-lg">
                                <div className="flex flex-col md:flex-row gap-6 mb-4">
                                    <div className="w-full md:w-1/3 text-center">
                                        <h3 className="text-sm font-bold text-gray-500 uppercase mb-2">Sample Damage Input</h3>
                                        <img src="https://via.placeholder.com/200x250?text=Damaged+Goods" 
                                             alt="íŒŒì†ëœ K-POP êµ¿ì¦ˆ ì´ë¯¸ì§€ (ì˜ˆì‹œ)" 
                                             className="w-full h-auto border border-red-300 rounded-lg shadow-md mx-auto"/>
                                        <p className="text-xs text-red-500 mt-2">íŒŒì† ì‚¬ì§„: K-POP êµ¿ì¦ˆ ì„¸íŠ¸ ë°•ìŠ¤ ëª¨ì„œë¦¬ íŒŒì†</p>
                                    </div>
                                    <div className="w-full md:w-2/3">
                                        <h3 className="text-sm font-bold text-gray-500 uppercase mb-3">AI Analysis Result (JSON Output)</h3>
                                        
                                        <button 
                                            onClick={() => analyzeImageForInsurance(setLoading, setResult, setError)}
                                            className="w-full bg-blue-900 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-700 transition disabled:bg-gray-400 flex items-center justify-center"
                                            disabled={isLoading}
                                        >
                                            {isLoading ? (
                                                <>
                                                    <Icon name="loader" size={20} className="animate-spin mr-2"/>
                                                    Gemini ëª¨ë¸ ë¶„ì„ ì¤‘...
                                                </>
                                            ) : (
                                                'âœ¨ AI íŒŒì† ì‚¬ì§„ ë¶„ì„ ë° ì‹¬ì‚¬ ìš”ì•½'
                                            )}
                                        </button>
                                        
                                        {error && <div className="text-red-600 text-sm mt-3 p-3 bg-red-50 border border-red-200 rounded">{error}</div>}

                                        {result && (
                                            <div className="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                                                <p className="font-bold text-green-700 mb-2">âœ… ì‹¬ì‚¬ ê²°ê³¼ ë„ì¶œ ì™„ë£Œ</p>
                                                <pre className="whitespace-pre-wrap break-words text-xs bg-white p-3 rounded border border-green-300 text-gray-800">
                                                    {JSON.stringify(result, null, 2)}
                                                </pre>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </section>

                        {/* 5. UI/UX Implementation (MOCKUP IMAGES) */}
                        <section>
                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <span className="w-8 h-8 bg-yellow-100 text-yellow-600 rounded-lg flex items-center justify-center mr-3 text-xs">ğŸ“±</span>
                                UI/UX êµ¬í˜„ (Mockup Screenshots)
                            </h2>
                            <p className="text-gray-600 text-sm mb-8">
                                Figma/Sketch ë“±ìœ¼ë¡œ êµ¬í˜„í•œ ì£¼ìš” ì‚¬ìš©ì ê²½í—˜(UX) íë¦„ ìŠ¤í¬ë¦°ìƒ·ì…ë‹ˆë‹¤. (ì‹¤ì œ êµ¬í˜„ í™˜ê²½)
                            </p>
                            
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                {uiImages.map((image, index) => (
                                    <div key={index} className="flex flex-col items-center">
                                        <div className="text-lg font-bold text-blue-700 mb-3 bg-blue-50 px-3 py-1 rounded-full text-xs border border-blue-200">
                                            {index + 1}
                                        </div>
                                        {/* ì´ë¯¸ì§€ê°€ ì—†ì„ ê²½ìš° ëŒ€ì²´ í…ìŠ¤íŠ¸ í‘œì‹œ */}
                                        <img 
                                            src={image.src} 
                                            onerror="this.onerror=null; this.src='https://via.placeholder.com/200x400?text=Placeholder'" 
                                            alt={image.caption} 
                                            className="mobile-ui border-gray-300"
                                        />
                                        <p className="mt-3 text-sm text-center text-gray-600 font-medium leading-tight">{image.caption}</p>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* 6. Tech Stack */}
                        <section>
                            <h2 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <span className="w-8 h-8 bg-gray-100 text-gray-600 rounded-lg flex items-center justify-center mr-3"><Icon name="code" size={18}/></span>
                                ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)
                            </h2>
                            <div className="flex flex-wrap gap-4">
                                <span className="px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-bold border border-blue-100">React</span>
                                <span className="px-4 py-2 bg-cyan-50 text-cyan-700 rounded-full text-sm font-bold border border-cyan-100">Tailwind CSS</span>
                                <span className="px-4 py-2 bg-yellow-50 text-yellow-700 rounded-full text-sm font-bold border border-yellow-100">JavaScript (ES6+)</span>
                                <span className="px-4 py-2 bg-gray-100 text-gray-700 rounded-full text-sm font-bold border border-gray-200">Python (Logic)</span>
                                <span className="px-4 py-2 bg-pink-50 text-pink-700 rounded-full text-sm font-bold border border-pink-100">Gemini API (Vision)</span>
                            </div>
                        </section>

                    </div>

                    <footer className="bg-gray-900 text-white p-8 text-center">
                        <p className="opacity-60 text-sm mb-2">Global Safe Care Project Portfolio</p>
                        <p className="font-bold">Designed & Developed by ê¹€íš¨ì§„</p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Portfolio />);
    </script>
</body>
</html>
