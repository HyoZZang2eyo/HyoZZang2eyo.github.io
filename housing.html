<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Real Estate AVM System</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts (Noto Sans KR) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        /* 탭 전환 애니메이션 */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-800 selection:bg-indigo-100">

    <!-- 1. Header -->
    <header class="bg-slate-900 text-white py-12 px-4 relative overflow-hidden border-b-4 border-indigo-500">
        <div class="max-w-5xl mx-auto relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center">
            <div>
                <div class="flex items-center space-x-2 mb-2">
                    <span class="px-3 py-1 rounded-full text-xs font-bold border bg-indigo-50 text-indigo-700 border-indigo-100">PropTech & AI</span>
                    <span class="px-3 py-1 rounded-full text-xs font-bold border bg-slate-100 text-slate-800 border-slate-200">Public Housing Stability</span>
                </div>
                <h1 class="text-3xl md:text-4xl font-extrabold mb-2 leading-tight">
                    AI 기반 부동산 담보 가치 산정 시스템 (AVM)
                </h1>
                <p class="text-slate-300 text-lg font-light">
                    객관적 시세 산정을 통한 <span class="text-indigo-400 font-semibold">여신 리스크 최소화</span> 및 <span class="text-indigo-400 font-semibold">주거 복지 재원 건전성 강화</span>
                </p>
            </div>
            
            <div class="mt-6 md:mt-0 flex items-center bg-white/10 backdrop-blur-sm px-4 py-3 rounded-lg border border-white/20">
                <i data-lucide="home" class="w-5 h-5 mr-3 text-indigo-400"></i>
                <div class="text-right">
                    <div class="text-xs text-slate-400">Target Goal</div>
                    <div class="font-bold text-sm">담보 평가 공정성 확보</div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 py-10 space-y-12">

        <!-- 2. 기획 배경 (Background) -->
        <section>
            <div class="flex items-center space-x-3 mb-6 border-b pb-2 border-slate-200">
                <i data-lucide="shield-check" class="w-6 h-6 text-slate-800"></i>
                <h2 class="text-2xl font-bold text-slate-800">01. 기획 배경 (Why AVM?)</h2>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Risk Factors -->
                <div class="bg-gradient-to-br from-white to-red-50 border-t-4 border-t-red-500 rounded-xl shadow-md border border-slate-200 p-6">
                    <h3 class="font-bold text-lg mb-4 flex items-center text-slate-800">
                        <i data-lucide="alert-triangle" class="w-5 h-5 mr-2 text-red-600"></i>
                        시장 위험 요인 (Risk)
                    </h3>
                    <ul class="space-y-3 text-sm text-slate-600">
                        <li class="flex items-start">
                            <span class="text-red-600 font-bold mr-2">•</span>
                            <span><strong>깡통전세 및 보증 사고:</strong> 시세 파악이 어려운 빌라/다세대 주택의 고평가로 인한 보증금 미반환 사고 급증.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-red-600 font-bold mr-2">•</span>
                            <span><strong>주관적 평가의 한계:</strong> 인력 의존적 감정평가는 시간과 비용이 많이 들고, 시장 변동성 반영에 시차(Lag) 발생.</span>
                        </li>
                    </ul>
                </div>

                <!-- Solution -->
                <div class="bg-gradient-to-br from-white to-indigo-50 border-t-4 border-t-indigo-500 rounded-xl shadow-md border border-slate-200 p-6">
                    <h3 class="font-bold text-lg mb-4 flex items-center text-slate-800">
                        <i data-lucide="check-circle" class="w-5 h-5 mr-2 text-indigo-600"></i>
                        해결 방안 및 기대효과 (Solution)
                    </h3>
                    <ul class="space-y-3 text-sm text-slate-600">
                        <li class="flex items-start">
                            <span class="text-indigo-600 font-bold mr-2">•</span>
                            <span><strong>데이터 기반 적정 가격 산출:</strong> 실거래가 및 주택 특성(80+개 변수)을 학습한 AI가 <strong>객관적 담보 가치</strong>를 즉시 산출.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-indigo-600 font-bold mr-2">•</span>
                            <span><strong>공적 자금 안정성 제고:</strong> 정확한 LTV 산정 및 고위험 물건 사전 스크리닝으로 <strong>기금 손실 최소화</strong>.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 3. 탭 메뉴 및 콘텐츠 -->
        <section>
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 border-b pb-2 border-slate-200 gap-4">
                <div class="flex items-center space-x-3">
                    <i data-lucide="activity" class="w-6 h-6 text-slate-800"></i>
                    <h2 class="text-2xl font-bold text-slate-800">02. 시스템 시뮬레이션 및 성과</h2>
                </div>
                <div class="flex space-x-2">
                    <button onclick="switchTab('dashboard')" id="btn-dashboard" class="px-3 py-1 text-sm rounded transition-colors bg-indigo-600 text-white font-medium">
                        Valuation Dashboard
                    </button>
                    <button onclick="switchTab('methodology')" id="btn-methodology" class="px-3 py-1 text-sm rounded transition-colors bg-slate-200 text-slate-600 font-medium">
                        Model Logic
                    </button>
                    <button onclick="switchTab('performance')" id="btn-performance" class="px-3 py-1 text-sm rounded transition-colors bg-slate-200 text-slate-600 font-medium">
                        Performance Report
                    </button>
                </div>
            </div>

            <!-- Tab Content Container -->
            <div id="tab-content" class="min-h-[400px]">
                <!-- Dynamic Content Injected Here -->
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center py-8 border-t border-slate-200 text-slate-500 text-sm mt-12">
            <p class="mb-2">본 프로젝트는 Ames Housing Dataset을 활용한 부동산 가치 산정 AI 모델링 실습입니다.</p>
            <div class="flex justify-center space-x-4">
                <span class="flex items-center"><i data-lucide="shield-check" class="w-3 h-3 mr-1"></i> Risk Control</span>
                <span class="flex items-center"><i data-lucide="dollar-sign" class="w-3 h-3 mr-1"></i> Asset Valuation</span>
                <span class="flex items-center"><i data-lucide="home" class="w-3 h-3 mr-1"></i> Housing Stability</span>
            </div>
        </footer>

    </main>

    <!-- JavaScript Logic -->
    <script>
        // --- Data ---
        const VALUATION_CASES = [
            { id: "APT-104-201", location: "Mapo-gu, Seoul", market_price: "12.5억 KRW", ai_price: "12.2억 KRW", risk_level: "Safe", ltv: "40%", desc: "실거래가 기반 적정 시세 (LTV 한도 내)" },
            { id: "VIL-302-101", location: "Seo-gu, Incheon", market_price: "3.2억 KRW", ai_price: "2.4억 KRW", risk_level: "Overvalued", ltv: "N/A", desc: "전세가율 90% 초과, 깡통전세 위험 감지" },
            { id: "OP-505-12", location: "Bundang, Seongnam", market_price: "5.8억 KRW", ai_price: "5.7억 KRW", risk_level: "Stable", ltv: "60%", desc: "보증 보험 가입 가능 구간 충족" }
        ];

        const FEATURE_IMPORTANCE = [
            { feature: "Overall Quality (전반적 품질)", imp: 0.38, desc: "건물 자재 및 마감 등급" },
            { feature: "GrLivArea (지상 주거면적)", imp: 0.25, desc: "실평수(전용면적) 크기" },
            { feature: "Year Built (건축 연도)", imp: 0.15, desc: "신축 여부 (감가상각 반영)" },
            { feature: "Total Bsmt SF (지하실 면적)", imp: 0.10, desc: "추가 공간 활용성" },
            { feature: "Garage Cars (차고 용량)", imp: 0.05, desc: "주차 편의성" },
        ];

        const PERFORMANCE_METRICS = [
            { label: "Valuation Accuracy (정확도)", before: 82.5, after: 96.8, unit: "%", desc: "기존 감정평가 대비 오차율 획기적 개선", trend: "up" },
            { label: "Appraisal Time (소요 시간)", before: 48, after: 0.1, unit: "hr", desc: "현장 실사 전 AI 사전 스크리닝으로 즉시 산출", trend: "down" },
            { label: "Risk Detection (부실 예측)", before: 65, after: 92, unit: "%", desc: "고평가 담보물 사전 식별로 여신 리스크 차단", trend: "up" }
        ];

        const METHODOLOGY_STEPS = [
            { step: "01", title: "Data Collection", subtitle: "부동산 공공 데이터 확보", desc: "국토부 실거래가 및 건축물 대장 데이터 등 총 80+개 변수 수집 및 결측치(Null) 처리", icon: "database", color: "indigo" },
            { step: "02", title: "Feature Engineering", subtitle: "파생 변수 생성", desc: "건축 연한(Building Age), 평당 단가 등 리스크 평가에 유의미한 파생 변수 추출", icon: "layers", color: "blue" },
            { step: "03", title: "Regression Modeling", subtitle: "XGBoost / LightGBM", desc: "비선형적 가격 결정 요인을 반영하기 위해 트리 기반 앙상블 회귀 모델 적용", icon: "activity", color: "emerald" }, // emerald -> green logic
            { step: "04", title: "Model Validation", subtitle: "교차 검증 (K-Fold)", desc: "RMSE(평균 제곱근 오차) 최소화를 목표로 하이퍼파라미터 튜닝 및 일반화 성능 확보", icon: "check-circle", color: "navy" }
        ];

        // --- Helper Functions ---
        function getBadgeColorClass(color) {
            const colors = {
                navy: "bg-slate-100 text-slate-800 border-slate-200",
                blue: "bg-blue-50 text-blue-700 border-blue-100",
                green: "bg-emerald-50 text-emerald-700 border-emerald-100",
                red: "bg-red-50 text-red-700 border-red-100",
                indigo: "bg-indigo-50 text-indigo-700 border-indigo-100"
            };
            return colors[color] || colors.navy;
        }

        // --- Render Functions ---

        function renderDashboard() {
            let casesHTML = '';
            VALUATION_CASES.forEach((item, idx) => {
                let borderClass = item.risk_level === 'Overvalued' ? 'border-red-500' : 
                                  item.risk_level === 'Safe' ? 'border-indigo-500' : 'border-emerald-500';
                
                let badgeColor = item.risk_level === 'Overvalued' ? 'red' : 
                                 item.risk_level === 'Safe' ? 'indigo' : 'green';

                casesHTML += `
                <div class="border-l-4 p-4 rounded bg-slate-50 flex flex-col md:flex-row justify-between items-start md:items-center ${borderClass}">
                    <div>
                        <div class="flex items-center space-x-2">
                            <span class="font-mono font-bold text-slate-800">${item.id}</span>
                            <span class="text-xs font-normal text-slate-500 flex items-center">
                                <i data-lucide="map-pin" class="w-3 h-3 mr-1"></i> ${item.location}
                            </span>
                        </div>
                        <div class="flex items-center space-x-3 mt-1">
                            <span class="text-xs text-slate-500 line-through">호가: ${item.market_price}</span>
                            <span class="text-sm font-bold text-indigo-700">AI 산정가: ${item.ai_price}</span>
                        </div>
                        <div class="text-xs text-slate-500 mt-1">${item.desc}</div>
                    </div>
                    <div class="mt-2 md:mt-0 text-right">
                        <span class="px-3 py-1 rounded-full text-xs font-bold border ${getBadgeColorClass(badgeColor)}">
                            ${item.risk_level}
                        </span>
                        <div class="text-xs text-slate-400 mt-1">LTV: ${item.ltv}</div>
                    </div>
                </div>`;
            });

            return `
            <div class="grid md:grid-cols-3 gap-6 fade-in">
                <!-- Summary Status -->
                <div class="md:col-span-1 bg-slate-900 text-white rounded-xl shadow-md border border-slate-200 p-6">
                    <h3 class="text-sm font-bold text-slate-400 mb-4 flex items-center">
                        <i data-lucide="clipboard-list" class="w-4 h-4 mr-2"></i>
                        Today's Assessment
                    </h3>
                    <div class="space-y-6">
                        <div>
                            <div class="text-2xl font-extrabold text-indigo-400">1,240건</div>
                            <div class="text-xs text-slate-400">일일 자동 평가 수행</div>
                        </div>
                        <div>
                            <div class="text-2xl font-extrabold text-red-400">15건 (1.2%)</div>
                            <div class="text-xs text-slate-400">고위험군(High Risk) 탐지</div>
                        </div>
                        <div class="pt-4 border-t border-slate-700">
                            <div class="flex justify-between text-sm mb-1">
                                <span>Avg. Accuracy</span>
                                <span class="text-emerald-400">96.8%</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span>Data Updated</span>
                                <span class="text-blue-400">Real-time</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Valuation Cases -->
                <div class="md:col-span-2 bg-white rounded-xl shadow-md border border-slate-200 p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center">
                        <i data-lucide="search" class="w-4 h-4 mr-2"></i>
                        최근 담보 평가 시뮬레이션 (Simulation)
                    </h3>
                    <div class="space-y-3">
                        ${casesHTML}
                    </div>
                </div>
            </div>`;
        }

        function renderMethodology() {
            let stepsHTML = '';
            METHODOLOGY_STEPS.forEach((step, idx) => {
                let colorClass = `text-${step.color}-600`;
                let bgClass = `bg-${step.color}-500`;
                // Handling tailwind class mapping explicitly for safelisting-like behavior if needed, 
                // but since we use CDN, dynamic classes usually work if common colors.
                if(step.color === 'green') { colorClass = 'text-emerald-600'; bgClass = 'bg-emerald-500'; }

                stepsHTML += `
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 relative overflow-hidden group hover:border-indigo-300 transition-colors">
                    <div class="absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity ${bgClass} rounded-bl-xl">
                        <i data-lucide="${step.icon}" class="w-6 h-6 ${colorClass}"></i>
                    </div>
                    <div class="text-xs font-bold text-slate-400 mb-1">STEP ${step.step}</div>
                    <h4 class="font-bold text-slate-800 mb-1">${step.title}</h4>
                    <div class="text-[10px] font-semibold text-slate-500 mb-2 uppercase tracking-wide">${step.subtitle}</div>
                    <p class="text-xs text-slate-600 leading-relaxed">${step.desc}</p>
                </div>`;
            });

            let featuresHTML = '';
            FEATURE_IMPORTANCE.forEach((feat, idx) => {
                featuresHTML += `
                <div>
                    <div class="flex justify-between text-xs mb-1">
                        <span class="font-semibold text-slate-700">${feat.feature}</span>
                        <span class="text-slate-500">${(feat.imp * 100).toFixed(0)}% Impact</span>
                    </div>
                    <div class="w-full bg-slate-100 rounded-full h-2">
                        <div class="bg-indigo-600 h-2 rounded-full" style="width: ${feat.imp * 100}%"></div>
                    </div>
                    <div class="text-[10px] text-slate-400 mt-1">${feat.desc}</div>
                </div>`;
            });

            return `
            <div class="space-y-6 fade-in">
                <!-- Methodology Pipeline -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    ${stepsHTML}
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-xl shadow-md border border-slate-200 p-6">
                        <h3 class="font-bold text-slate-700 mb-4 flex items-center">
                            <i data-lucide="bar-chart-2" class="w-4 h-4 mr-2"></i>
                            가격 결정 주요 요인 (Feature Importance)
                        </h3>
                        <div class="space-y-4">
                            ${featuresHTML}
                        </div>
                    </div>
                    <div class="bg-slate-50 rounded-xl shadow-md border border-slate-200 p-6 flex flex-col justify-center">
                        <h3 class="font-bold text-slate-700 mb-4 flex items-center">
                            <i data-lucide="server" class="w-4 h-4 mr-2"></i>
                            Tech Stack & Tools
                        </h3>
                        <ul class="space-y-3 text-sm text-slate-600">
                            <li class="bg-white p-3 rounded border border-slate-200">
                                <strong class="block text-indigo-800">Python (Pandas, Numpy)</strong>
                                데이터 전처리 및 결측치 핸들링
                            </li>
                            <li class="bg-white p-3 rounded border border-slate-200">
                                <strong class="block text-indigo-800">Scikit-learn / XGBoost</strong>
                                회귀 분석 및 앙상블 모델링
                            </li>
                            <li class="bg-white p-3 rounded border border-slate-200">
                                <strong class="block text-indigo-800">Pickle</strong>
                                학습 완료 모델 객체화 및 서빙 준비
                            </li>
                        </ul>
                    </div>
                </div>
            </div>`;
        }

        function renderPerformance() {
            let metricsHTML = '';
            PERFORMANCE_METRICS.forEach((metric, idx) => {
                let trendIcon = metric.trend === 'up' ? 'arrow-up-right' : 'arrow-down-right';
                let trendColor = (metric.trend === 'up' || metric.label.includes('Time')) ? 'text-emerald-600' : 'text-slate-400';
                let prefix = metric.trend === 'up' ? '+' : '';
                let valueDisplay = metric.label.includes('Time') ? '99%' : (metric.after - metric.before).toFixed(1) + '%p';

                metricsHTML += `
                <div class="bg-white rounded-xl shadow-md border border-slate-200 p-6 border-t-4 border-t-emerald-500">
                    <h3 class="text-sm font-bold text-slate-500 mb-2">${metric.label}</h3>
                    <div class="flex items-end space-x-2 mb-2">
                        <div class="text-3xl font-extrabold text-slate-800">${metric.after}${metric.unit}</div>
                        <div class="flex items-center text-sm font-bold mb-1 ${trendColor}">
                            <i data-lucide="${trendIcon}" class="w-4 h-4"></i>
                            ${prefix}${valueDisplay}
                        </div>
                    </div>
                    <div class="text-xs text-slate-400 mb-4">Before: ${metric.before}${metric.unit}</div>
                    <div class="bg-emerald-50 text-emerald-800 text-xs px-2 py-1 rounded inline-block font-medium">
                        ${metric.desc}
                    </div>
                </div>`;
            });

            return `
            <div class="space-y-6 fade-in">
                <div class="grid md:grid-cols-3 gap-6">
                    ${metricsHTML}
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-slate-900 text-white flex flex-col justify-center rounded-xl shadow-md border border-slate-200 p-6">
                        <h3 class="font-bold text-lg mb-4 flex items-center">
                            <i data-lucide="trending-up" class="w-5 h-5 mr-2 text-emerald-400"></i>
                            공공 재정 건전성 강화 효과
                        </h3>
                        <div class="space-y-6">
                            <div class="flex justify-between items-center border-b border-slate-700 pb-4">
                                <div>
                                    <div class="text-slate-400 text-sm">보증 사고 예방액 (Est.)</div>
                                    <div class="text-xs text-slate-500">고위험 담보 사전 차단</div>
                                </div>
                                <div class="text-2xl font-bold text-emerald-400">₩ 500억+</div>
                            </div>
                            <div class="flex justify-between items-center">
                                <div>
                                    <div class="text-slate-400 text-sm">감정평가 비용 절감</div>
                                    <div class="text-xs text-slate-500">AI 자동 심사 도입</div>
                                </div>
                                <div class="text-2xl font-bold text-blue-400">40% ▼</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white border-dashed border-2 border-slate-300 flex flex-col justify-center items-center text-center p-8 rounded-xl shadow-md">
                        <i data-lucide="pie-chart" class="w-12 h-12 text-slate-300 mb-4"></i>
                        <h3 class="font-bold text-slate-800 mb-2">사회적 가치 (Social Value)</h3>
                        <p class="text-sm text-slate-500 mb-4">
                            전세 사기 예방 및 정확한 시세 정보 제공으로<br/>
                            <span class="font-bold text-indigo-700">서민 주거 안정</span>에 기여합니다.
                        </p>
                        <span class="px-3 py-1 rounded-full text-xs font-bold border bg-indigo-50 text-indigo-700 border-indigo-100">ESG Management</span>
                    </div>
                </div>
            </div>`;
        }

        // --- Tab Logic ---
        function switchTab(tabName) {
            const contentDiv = document.getElementById('tab-content');
            
            // Buttons list
            const buttons = ['dashboard', 'methodology', 'performance'];
            
            // Update Buttons Style
            buttons.forEach(btnName => {
                const btn = document.getElementById(`btn-${btnName}`);
                if (btnName === tabName) {
                    // Active Styles
                    if(tabName === 'dashboard') btn.className = "px-3 py-1 text-sm rounded transition-colors bg-indigo-600 text-white font-medium";
                    else if(tabName === 'methodology') btn.className = "px-3 py-1 text-sm rounded transition-colors bg-slate-800 text-white font-medium";
                    else if(tabName === 'performance') btn.className = "px-3 py-1 text-sm rounded transition-colors bg-emerald-600 text-white font-medium";
                } else {
                    // Inactive Style
                    btn.className = "px-3 py-1 text-sm rounded transition-colors bg-slate-200 text-slate-600 font-medium hover:bg-slate-300";
                }
            });

            // Update Content
            if (tabName === 'dashboard') {
                contentDiv.innerHTML = renderDashboard();
            } else if (tabName === 'methodology') {
                contentDiv.innerHTML = renderMethodology();
            } else if (tabName === 'performance') {
                contentDiv.innerHTML = renderPerformance();
            }

            // Refresh Icons
            lucide.createIcons();
        }

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            switchTab('dashboard');
        });

    </script>
</body>
</html>